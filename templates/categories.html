{% extends "layout.html" %}
{% block title %}
Categories
{% endblock %}

{% block body %}

<div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button style="color:orange;" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
        <strong>Warning!</strong>
      </button>
    </h2>
    <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <strong>If you delete a category, all the transactions with that category will also be deleted.</strong>
      </div>
    </div>
  </div>
</div>

<h3>My Categories</h3>

<table id="catList" class="table table-hover">
  <tbody>
    <tr>
      <form action="/categories", method="post">
        <td>
          <input name="name" id="addCatField" type="text" class="form-control" placeholder="Category name" aria-label="Category name" aria-describedby="button-addon2" autocomplete="off" required autofocus maxlength="16">
        </td>
        <td>
          <button id="addCatButton" class="btn btn-outline-warning" type="submit" id="button-addon2" disabled>Add New</button>
        </td>
      </form>
    </tr>
  {% if rows %}

  {% for row in rows %}
  <tr>
    <td>{{row.name}}</td>
    <td>
      <form action="/categories" method="post">

        <input name="exist_name" type="hidden" value="{{row.name}}">
        <button type="submit" class="btn btn-outline-danger">Delete</button>
      </form>

    </td>
  </tr>

  {% endfor %}
  </tbody>
</table>

<br>
{% else %}
</tbody>
</table>
<br>
<p>No categories yet. You can create a new one.</p>
<br>

{% endif %}

{% endblock %}
